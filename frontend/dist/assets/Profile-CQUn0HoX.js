import{b as j,f as w,R as l,j as e,d as b}from"./index-pDHLf4_7.js";import{B as f}from"./Button-CzOS0oQW.js";function S(){const a=j(w),[i,c]=l.useState((a==null?void 0:a.name)||""),[g,m]=l.useState((a==null?void 0:a.email)||""),[x,p]=l.useState(!1),[y,d]=l.useState("");l.useEffect(()=>{c((a==null?void 0:a.name)||""),m((a==null?void 0:a.email)||"")},[a]);async function h(r){var s,o;r.preventDefault(),p(!0),d("");try{await b.put("/profile",{name:i,email:g}),d("Profil mis à jour")}catch(t){d(((o=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:o.message)||t.message)}finally{p(!1)}}async function k(r){var t,u;r.preventDefault(),d("");const s=r.currentTarget,o={current_password:s.current_password.value,password:s.password.value,password_confirmation:s.password_confirmation.value};try{await b.post("/profile/password",o),d("Mot de passe changé"),s.reset()}catch(n){d(((u=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:u.message)||n.message)}}return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg transition-colors",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Profil"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Nom"}),e.jsx("input",{className:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",value:i,onChange:r=>c(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{className:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",value:g,onChange:r=>m(r.target.value)})]}),e.jsx(f,{type:"submit",disabled:x,className:"!from-primary-600 !to-primary-700",children:x?"Enregistrement...":"Enregistrer"}),y&&e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:y})]})]}),e.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg transition-colors",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Mot de passe"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Mot de passe actuel"}),e.jsx("input",{name:"current_password",type:"password",className:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Nouveau mot de passe"}),e.jsx("input",{name:"password",type:"password",className:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Confirmer"}),e.jsx("input",{name:"password_confirmation",type:"password",className:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",required:!0})]}),e.jsx(f,{type:"submit",className:"!from-emerald-500 !to-green-600",children:"Changer"})]})]})]})}export{S as default};
