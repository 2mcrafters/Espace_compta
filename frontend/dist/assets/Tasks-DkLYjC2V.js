import{e as G,R as x,j as e,m as S,A as O,M as F,C as Q,d as y,B as R}from"./index-pDHLf4_7.js";import{u as B}from"./useQuery-kMVKj7Cj.js";import{u as C}from"./useMutation-CfG6Mqyy.js";import{B as M}from"./Button-CzOS0oQW.js";import{S as p}from"./Select-aLHqUWXK.js";import{R as E}from"./RequirePermission-TZbtanVt.js";const T=[{key:"EN_ATTENTE",label:"En attente",color:"from-gray-400 to-gray-500",bgColor:"bg-gray-50",borderColor:"border-gray-200",dotColor:"bg-slate-400",headerGradient:"from-slate-300 to-slate-500"},{key:"EN_COURS",label:"En cours",color:"from-primary-400 to-primary-700",bgColor:"bg-primary-50",borderColor:"border-primary-200",dotColor:"bg-blue-500",headerGradient:"from-blue-400 to-blue-600"},{key:"EN_VALIDATION",label:"En validation",color:"from-amber-400 to-orange-500",bgColor:"bg-amber-50",borderColor:"border-amber-200",dotColor:"bg-amber-500",headerGradient:"from-amber-400 to-orange-500"},{key:"TERMINEE",label:"Terminée",color:"from-emerald-400 to-green-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",dotColor:"bg-emerald-500",headerGradient:"from-emerald-400 to-green-600"}],H=["COMPTABLE","FISCALE","SOCIALE","JURIDIQUE","AUTRE"],P=["CONTINUE","PONCTUELLE"];function J(){return B({queryKey:["tasks"],queryFn:async()=>{const{data:s}=await y.get("/tasks");return s.data??s}})}function X(){return B({queryKey:["users-lookup"],queryFn:async()=>{const{data:s}=await y.get("/users/lookup");return Array.isArray(s)?s:s.data??[]},staleTime:5*60*1e3})}function oe(){const s=G(),{data:g=[],isLoading:f}=J(),{data:h=[],isLoading:A}=X(),[t,i]=x.useState({}),[_,d]=x.useState(!1),[j,a]=x.useState(null),[c,k]=x.useState(null),[N,I]=x.useState({open:!1,taskId:null}),[u,w]=x.useState({category:"",nature:"",owner:""}),[v,b]=x.useState({open:!1,entryId:null,comment:""}),{data:o=[]}=B({queryKey:["clients"],queryFn:async()=>{const{data:r}=await y.get("/clients");return(r==null?void 0:r.data)??r}}),m=C({mutationFn:async r=>{const{data:n}=await y.post("/tasks",r);return n},onSuccess:()=>{s.invalidateQueries({queryKey:["tasks"]}),d(!1)},onError:r=>{var n,l;alert(`Erreur: ${((l=(n=r.response)==null?void 0:n.data)==null?void 0:l.message)||r.message||"Impossible de créer la tâche"}`)}}),L=C({mutationFn:async r=>{const{data:n}=await y.post(`/tasks/${r}/time/start`,{});return n},onSuccess:r=>{i(n=>({...n,[r.task_id]:r.id}))}}),z=C({mutationFn:async({entryId:r,comment:n})=>{const{data:l}=await y.post(`/time-entries/${r}/stop`,{comment:n});return l},onSuccess:r=>{i(n=>({...n,[r.task_id]:void 0})),b({open:!1,entryId:null,comment:""})}}),V=C({mutationFn:async({taskId:r,userId:n})=>{const{data:l}=await y.post(`/tasks/${r}/assign`,{user_id:Number(n)});return l},onSuccess:()=>{s.invalidateQueries({queryKey:["tasks"]})}}),D=C({mutationFn:async({taskId:r,patch:n})=>{const{data:l}=await y.put(`/tasks/${r}`,n);return l},onSuccess:()=>{s.invalidateQueries({queryKey:["tasks"]})}}),W=C({mutationFn:async r=>{const{data:n}=await y.delete(`/tasks/${r}`);return n},onSuccess:()=>{s.invalidateQueries({queryKey:["tasks"]}),I({open:!1,taskId:null})}}),U=x.useMemo(()=>{const r=g.filter(l=>!(u.category&&l.category!==u.category||u.nature&&l.nature!==u.nature||u.owner&&String(l.owner_id)!==String(u.owner))),n=Object.fromEntries(T.map(l=>[l.key,[]]));for(const l of r)n[l.status??"EN_ATTENTE"].push(l);return n},[g,u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-400 bg-clip-text text-transparent mb-2",children:"Tâches"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Suivez et gérez vos tâches par statut"})]}),e.jsx(E,{perm:"tasks.manage",fallback:null,children:e.jsxs(M,{onClick:()=>d(!0),children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Ajouter une tâche"]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(p,{value:u.category,onChange:r=>w(n=>({...n,category:r.target.value})),options:[{value:"",label:"Catégorie"},...H.map(r=>({value:r,label:r}))],className:"w-40"}),e.jsx(p,{value:u.nature,onChange:r=>w(n=>({...n,nature:r.target.value})),options:[{value:"",label:"Nature"},...P.map(r=>({value:r,label:r}))],className:"w-40"}),e.jsx(p,{value:u.owner,onChange:r=>w(n=>({...n,owner:r.target.value})),options:[{value:"",label:"Responsable"},...h.map(r=>({value:String(r.id),label:r.name||r.email}))],className:"w-56"}),(u.category||u.nature||u.owner)&&e.jsx(M,{onClick:()=>w({category:"",nature:"",owner:""}),variant:"secondary",children:"Réinitialiser"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:T.map((r,n)=>e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"relative rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/40 backdrop-blur-sm overflow-hidden shadow-sm",children:[e.jsx("div",{className:`h-0.5 w-full bg-gradient-to-r ${r.headerGradient}`}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"flex items-center gap-2 font-bold text-gray-800 dark:text-gray-100 text-sm uppercase tracking-wide",children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${r.dotColor}`}),r.label]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[(U[r.key]??[]).length," tâche(s)"]})]}),e.jsx(E,{perm:"tasks.manage",fallback:null,children:e.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",title:"Ajouter une tâche",onClick:()=>{a({status:r.key}),d(!0)},children:e.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-gray-200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})})]})}),e.jsx("div",{className:"p-4 space-y-3 min-h-[200px]",children:f?Array.from({length:2}).map((l,q)=>e.jsx("div",{className:"h-32 bg-gray-100 dark:bg-gray-800/50 rounded-xl animate-pulse"},q)):(U[r.key]??[]).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400 dark:text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{className:"text-sm",children:"Aucune tâche"})]}):e.jsx(O,{children:(U[r.key]??[]).map((l,q)=>e.jsx(Y,{task:l,index:q,runningEntryId:t[l.id],onStart:()=>L.mutate(l.id),onStop:()=>t[l.id]&&b({open:!0,entryId:t[l.id],comment:""}),onAssign:K=>V.mutate({taskId:l.id,userId:K}),onEdit:()=>k(l),onRequestDelete:()=>I({open:!0,taskId:l.id}),users:h,loadingUsers:A},l.id))})})]},r.key))}),e.jsx(F,{open:v.open,onClose:()=>b({open:!1,entryId:null,comment:""}),title:"Arrêter le suivi",footer:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"px-4 py-2 rounded-lg border-2 border-gray-200",onClick:()=>b({open:!1,entryId:null,comment:""}),children:"Annuler"}),e.jsx(M,{onClick:()=>z.mutate({entryId:v.entryId,comment:v.comment}),children:"Arrêter"})]}),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Commentaire"}),e.jsx("textarea",{className:"w-full border rounded-lg p-2 min-h-[90px]",value:v.comment,onChange:r=>b(n=>({...n,comment:r.target.value})),placeholder:"Ajoutez un commentaire (optionnel)"})]})}),_&&e.jsx($,{onClose:()=>{d(!1),a(null)},onSave:r=>m.mutate(r),saving:m.isPending,clients:o,users:h,initial:j||void 0}),c&&e.jsx($,{onClose:()=>k(null),onSave:r=>D.mutate({taskId:c.id,patch:r},{onSuccess:()=>k(null)}),saving:D.isPending,clients:o,users:h,initial:c}),e.jsx(Q,{open:N.open,title:"Supprimer la tâche",description:"Cette action est irréversible. Voulez-vous vraiment supprimer cette tâche ?",confirmText:"Supprimer",cancelText:"Annuler",onCancel:()=>I({open:!1,taskId:null}),onConfirm:()=>N.taskId&&W.mutate(N.taskId)})]})}function Y({task:s,index:g,runningEntryId:f,onStart:h,onStop:A,onAssign:t,onEdit:i,onRequestDelete:_,users:d=[],loadingUsers:j=!1}){var v,b;const[a,c]=x.useState(""),[k,N]=x.useState(!1),I=x.useMemo(()=>{const o=[{value:"",label:"Assigner…"}];for(const m of d){const L=m.name?`${m.name} (${m.email})`:m.email||`User #${m.id}`;o.push({value:String(m.id),label:L})}return o},[d]);function u(o){if(!o)return null;try{const m=new Date(o);return isNaN(m.getTime())?null:new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",year:"numeric"}).format(m)}catch{return null}}function w(o){switch(o){case"EN_COURS":return"blue";case"EN_VALIDATION":return"amber";case"TERMINEE":return"emerald";default:return"gray"}}return e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:g*.05},className:"relative rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-800/80 backdrop-blur p-4 shadow-sm hover:shadow-md transition-shadow",onHoverStart:()=>N(!0),onHoverEnd:()=>N(!1),children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 rounded-t-xl"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsxs("svg",{className:"w-12 h-12 rotate-[-90deg]",viewBox:"0 0 36 36",children:[e.jsx("circle",{cx:"18",cy:"18",r:"16",className:"fill-none stroke-gray-200 dark:stroke-gray-700",strokeWidth:"4"}),e.jsx("circle",{cx:"18",cy:"18",r:"16",className:"fill-none stroke-gray-500 dark:stroke-gray-400",strokeWidth:"4",strokeDasharray:`${(s.progress??0)*1.005}, 100`,strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute inset-0 grid place-items-center text-xs font-bold text-gray-700 dark:text-gray-200",children:[s.progress??0,"%"]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:s.title??s.name??`Tâche #${s.id}`}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs",children:[e.jsxs(R,{color:w(s.status),className:"gap-2",children:[e.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${((v=T.find(o=>o.key===s.status))==null?void 0:v.dotColor)||"bg-blue-500"}`}),((b=T.find(o=>o.key===s.status))==null?void 0:b.label)||"Statut"]}),e.jsxs(R,{color:"primary",className:"gap-2",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(s.category||"Général").toUpperCase()]}),u(s.due_at)&&e.jsxs(R,{color:"gray",className:"gap-2",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u(s.due_at)]})]})]}),e.jsx(E,{perm:"tasks.manage",fallback:null,children:e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("button",{title:"Modifier",onClick:i,className:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5h2m6 14H5a2 2 0 01-2-2V7a2 2 0 012-2h7l2 2h7a2 2 0 012 2v8a2 2 0 01-2 2z"})})}),e.jsx("button",{title:"Supprimer",onClick:_,className:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-rose-600 dark:text-rose-400",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7h6m-1-3H10a1 1 0 00-1 1v1h8V5a1 1 0 00-1-1z"})})})]})})]}),Array.isArray(s.assignees)&&s.assignees.length>0&&e.jsxs("div",{className:"flex -space-x-2 mt-3",children:[s.assignees.slice(0,5).map((o,m)=>e.jsx("div",{title:`${o.name||o.email}`,className:"inline-flex items-center justify-center w-7 h-7 rounded-full ring-2 ring-white dark:ring-gray-800 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-[10px] font-bold",children:Z(o.name||o.email)},o.id||m)),s.assignees.length>5&&e.jsxs("div",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full ring-2 ring-white dark:ring-gray-800 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-[10px] font-bold",children:["+",s.assignees.length-5]})]}),e.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[e.jsx(E,{perm:"tasks.manage",fallback:f?e.jsx("div",{className:"text-xs text-center text-red-600 py-1",children:"Pas de permission"}):e.jsx("div",{className:"text-xs text-center text-red-600 py-1",children:"Pas de permission"}),children:f?e.jsxs(S.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:A,className:"w-full px-3 py-2.5 rounded-lg bg-gray-900 hover:bg-black text-white font-semibold shadow-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-500"}),e.jsx("span",{children:"Arrêter"})]}):e.jsxs(S.button,{onClick:h,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full px-3 py-2.5 rounded-lg bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white font-semibold shadow-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-white/80"}),e.jsx("span",{children:"Démarrer"})]})}),e.jsx(E,{perm:"tasks.manage",fallback:e.jsx("div",{className:"text-xs text-center text-red-600 py-1",children:"Pas de permission"}),children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{value:a,onChange:o=>c(o.target.value),options:I,className:"flex-1 text-sm",disabled:j}),e.jsx(S.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>a&&t(a),disabled:!a,className:"px-4 py-2 rounded-lg bg-gray-900 hover:bg-black text-white text-sm font-semibold shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"OK"})]})}),e.jsx(E,{perm:"tasks.manage",fallback:null,children:e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx(p,{value:s.status,onChange:o=>quickUpdateMutation.mutate({taskId:s.id,patch:{status:o.target.value}}),options:T.map(o=>({value:o.key,label:o.label})),className:"w-40 text-sm"}),e.jsx("input",{type:"range",min:0,max:100,value:s.progress??0,onChange:o=>quickUpdateMutation.mutate({taskId:s.id,patch:{progress:Number(o.target.value)}}),className:"flex-1 accent-gray-500"})]})})]})]})}function Z(s){if(!s)return"??";const g=String(s).split(/\s+/);return g.length===1?g[0].slice(0,2).toUpperCase():(g[0][0]+g[g.length-1][0]).toUpperCase()}function $({onClose:s,onSave:g,saving:f,clients:h,users:A,initial:t}){const[i,_]=x.useState(()=>{var a;return{client_id:(t==null?void 0:t.client_id)??((a=h[0])==null?void 0:a.id)??"",owner_id:t!=null&&t.owner_id?String(t.owner_id):"",category:(t==null?void 0:t.category)??"COMPTABLE",nature:(t==null?void 0:t.nature)??"CONTINUE",status:(t==null?void 0:t.status)??"EN_ATTENTE",priority:(t==null?void 0:t.priority)??0,progress:(t==null?void 0:t.progress)??0,starts_at:(t==null?void 0:t.starts_at)??"",due_at:(t==null?void 0:t.due_at)??"",notes:(t==null?void 0:t.notes)??""}});function d(a,c){_(k=>({...k,[a]:c}))}function j(a){a.preventDefault();const c={...i};c.owner_id||(c.owner_id=null),c.starts_at||(c.starts_at=null),c.due_at||(c.due_at=null),c.notes||(c.notes=null),g(c)}return e.jsx(F,{open:!0,onClose:s,title:t!=null&&t.id?"Modifier la tâche":"Créer une nouvelle tâche",footer:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{onClick:s,className:"!from-gray-200 !to-gray-300 !text-gray-800",children:"Annuler"}),e.jsx(M,{onClick:j,disabled:f||!i.client_id,children:f?"Enregistrement...":t!=null&&t.id?"Enregistrer":"Créer"})]}),children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{value:i.client_id,onChange:a=>d("client_id",a.target.value),options:[{value:"",label:"Sélectionner un client"},...h.map(a=>({value:String(a.id),label:a.raison_sociale||`Client #${a.id}`}))],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsable"}),e.jsx(p,{value:i.owner_id,onChange:a=>d("owner_id",a.target.value),options:[{value:"",label:"Aucun"},...A.map(a=>({value:String(a.id),label:a.name||a.email||`User #${a.id}`}))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Catégorie ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{value:i.category,onChange:a=>d("category",a.target.value),options:H.map(a=>({value:a,label:a})),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nature ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{value:i.nature,onChange:a=>d("nature",a.target.value),options:P.map(a=>({value:a,label:a})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),e.jsx(p,{value:i.status,onChange:a=>d("status",a.target.value),options:T.map(a=>({value:a.key,label:a.label}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité (0-5)"}),e.jsx("input",{type:"number",min:"0",max:"5",value:i.priority,onChange:a=>d("priority",parseInt(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progression (0-100%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:i.progress,onChange:a=>d("progress",parseInt(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:i.starts_at,onChange:a=>d("starts_at",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'échéance"}),e.jsx("input",{type:"date",value:i.due_at,onChange:a=>d("due_at",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:i.notes,onChange:a=>d("notes",a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",placeholder:"Ajoutez des notes sur cette tâche..."})]})]})})}export{oe as default};
